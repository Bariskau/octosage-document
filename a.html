<!DOCTYPE html>
<html>

<head>
    <style>
        canvas {
            border: 1px solid #ccc;
            margin: 20px;
        }
    </style>
</head>

<body>
    <canvas id="myCanvas" width="1000" height="1000"></canvas>
    <script>
        const canvas = document.getElementById('myCanvas');
        const ctx = canvas.getContext('2d');

        // Set background to white
        ctx.fillStyle = 'white';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Colors for different types
        const colors = {
            text: '#FF0000',
            picture: '#00FF00',
            group: '#0000FF',
            caption: '#FFA500',
            section_header: '#800080',
            page_footer: '#008080'
        };

          function transformY(y) {
                return 1000 - y;
            }

        // Parse and draw boxes
        const data = [
                {
                    "type": "text",
                    "page": 1,
                    "label": "page_header",
                    "bbox": [
                        210.2525634765625,
                        749.7000122070312,
                        393.3333435058594,
                        759.7000122070312
                    ],
                    "content": "J Bollen et al. Journal of Computational Science 2 (2011) 1-8"
                },
                {
                    "type": "picture",
                    "page": 1,
                    "label": "picture",
                    "bbox": [
                        146.30458068847656,
                        573.5188598632812,
                        459.6626281738281,
                        738.0086669921875
                    ],
                    "captions": "",
                    "path": "/home/qzer/Desktop/work/document/output/media-d14a929d-aac1-4948-b562-35ebb411a0fe.png"
                },
                {
                    "type": "text",
                    "page": 1,
                    "label": "caption",
                    "bbox": [
                        40.66666793823242,
                        448.0333557128906,
                        565.3333129882812,
                        484.3666687011719
                    ],
                    "content": "Fig.1. Diagram outlining 3 phases ofmethodology and corresponding data sets: ( 1 ) creation and validation of OpinionFinder and GPOMS public mood time series from October 2008 to December 2008 (Presidential Election and Thanksgiving) (2) use of Granger causality analysis to determine correlation between DJIA, OpinionFinder and GPOMS public mood from August 2008 to December 2008, and (3) training of a Self-Organizing Fuzzy Neural Network to predict DJIA values on the basis of various combinations of past DJIA values and OF and GPOMS public mood data from March 2008 to December 2008."
                },
                {
                    "type": "picture",
                    "page": 1,
                    "label": "picture",
                    "bbox": [
                        146.1808624267578,
                        491.5661926269531,
                        459.80975341796875,
                        568.8400268554688
                    ],
                    "captions": "Fig.1. Diagram outlining 3 phases ofmethodology and corresponding data sets: ( 1 ) creation and validation of OpinionFinder and GPOMS public mood time series from October 2008 to December 2008 (Presidential Election and Thanksgiving) (2) use of Granger causality analysis to determine correlation between DJIA, OpinionFinder and GPOMS public mood from August 2008 to December 2008, and (3) training of a Self-Organizing Fuzzy Neural Network to predict DJIA values on the basis of various combinations of past DJIA values and OF and GPOMS public mood data from March 2008 to December 2008.",
                    "path": "/home/qzer/Desktop/work/document/output/media-80444842-4556-49e2-a765-e045da645cb1.png"
                },
                {
                    "type": "text",
                    "page": 1,
                    "label": "text",
                    "bbox": [
                        41.66666793823242,
                        373.0333557128906,
                        296.3333435058594,
                        436.70001220703125
                    ],
                    "content": "original POMS terms (in accordance with its co-occurence weight) and via the POMS scoring table to its respective POMS dimension The score of each POMS mood dimension is thus determined as the weighted sum of the co-occurence weights of each tweet term that matched the GPOMS lexicon: Data sets and methods are available on our project site_ web"
                },
                {
                    "type": "text",
                    "page": 1,
                    "label": "text",
                    "bbox": [
                        310.6666564941406,
                        372.0333557128906,
                        565.0,
                        437.3666687011719
                    ],
                    "content": "effect on public mood namely the U.S presidential election (Novem ber 4, 2008) and Thanksgiving (November 27, 2008) The OF and GPOMS measurements can therefore be cross-validated against the expected emotional responses to these events. The resulting mood time series are shown in Fig. 2 and are expressed in z-scores as given by in Eq. (1)"
                },
                {
                    "type": "text",
                    "page": 1,
                    "label": "text",
                    "bbox": [
                        41.66666793823242,
                        319.078857421875,
                        295.6666564941406,
                        374.3666687011719
                    ],
                    "content": "To enable the comparison of OF and GPOMS time series we nor malize them to z-scores on the basis of a local mean and standard deviation within a sliding window of k days before and after the particular date: For example, the z-score of time series Xt, denoted is defined as: Zxt '"
                },
                {
                    "type": "text",
                    "page": 1,
                    "label": "formula",
                    "bbox": [
                        41.99403762817383,
                        294.3666687011719,
                        294.04925537109375,
                        315.70001220703125
                    ],
                    "content": "Xt x(Xt+k) Zxt o(Xt+k)"
                },
                {
                    "type": "text",
                    "page": 1,
                    "label": "text",
                    "bbox": [
                        41.66666793823242,
                        248.36668395996094,
                        295.3333435058594,
                        290.70001220703125
                    ],
                    "content": "where x(Xt+k) and o(Dttk) represent the mean and standard deviation of the time series within the period [t - k,t+k] This nor malization causes all time series to fluctuate around a zero mean and be expressed on a scale of 1 standard deviation."
                },
                {
                    "type": "text",
                    "page": 1,
                    "label": "text",
                    "bbox": [
                        41.0,
                        174.36668395996094,
                        295.6666564941406,
                        248.70001220703125
                    ],
                    "content": "The mentioned z-score normalization is intended to provide common scale for comparisons of the OF and GPOMS time series. However, to avoid so-called 'in-sample\" bias, we do not apply z score normalization to the mood and DJIA time series that are used to test the prediction accuracy of our Self-Organizing Fuzzy Neural Network in Section 2.5. This analysis and our prediction results rest on the raw values for both time series and the DJIA."
                },
                {
                    "type": "text",
                    "page": 1,
                    "label": "section_header",
                    "bbox": [
                        41.33333206176758,
                        145.03334045410156,
                        268.0,
                        167.03334045410156
                    ],
                    "content": "2.3. Cross-validating OF and GPOMS time series against large socio-cultural events"
                },
                {
                    "type": "text",
                    "page": 1,
                    "label": "text",
                    "bbox": [
                        40.33333206176758,
                        79.70001220703125,
                        296.3333435058594,
                        134.70001220703125
                    ],
                    "content": "We first validate the ability of OF and GPOMS to capture various aspects of public mood. To do so we apply them to tweets posted in a 2-month period from October 5, 2008 to December 5,2008. This period was chosen specifically because it includes several socioculturalevents that may have had a unique, significant and complex"
                },
                {
                    "type": "text",
                    "page": 1,
                    "label": "footnote",
                    "bbox": [
                        47.84861755371094,
                        49.03334426879883,
                        210.10311889648438,
                        58.36668014526367
                    ],
                    "content": "See http:| /terramood.informatics indiana edu/data_"
                },
                {
                    "type": "text",
                    "page": 1,
                    "label": "caption",
                    "bbox": [
                        311.3333435058594,
                        48.03334426879883,
                        564.6666870117188,
                        67.3666763305664
                    ],
                    "content": "Fig. 2 Tracking public mood states from tweets posted between October 2008 to December 2008 shows public responses to presidential election and thanksgiving:"
                },
                {
                    "type": "picture",
                    "page": 1,
                    "label": "picture",
                    "bbox": [
                        318.3333435058594,
                        74.7373046875,
                        559.5087280273438,
                        349.4382019042969
                    ],
                    "captions": "Fig. 2 Tracking public mood states from tweets posted between October 2008 to December 2008 shows public responses to presidential election and thanksgiving:",
                    "path": "/home/qzer/Desktop/work/document/output/media-3eedebf4-4f1e-4ed8-abc8-dc26c2576d40.png"
                }
            ]
            // Draw boxes and labels
        
            let count = 0
            function drawItem(item) {
                item.boxes = [item.bbox]
                    if (item.type === 'group') {
                        item.elements.forEach(element => drawItem(element));
                        return
                    };
                    ctx.strokeStyle = colors[item.type] || 'black';
                    ctx.lineWidth = 1;

                    item.boxes.forEach(box => {
                        const [x1, y1, x2, y2] = box;
                        const transformedY1 = transformY(y1);
                        const transformedY2 = transformY(y2);
                        // y2'den y1'i çıkarmamız gerekiyor çünkü yükseklik pozitif olmalı
                        ctx.strokeRect(x1, transformedY1, x2 - x1, transformedY1 - transformedY2);

                        // Add layout type label for the first box in each group
                        if (box === item.boxes[0]) {
                            ctx.font = '10px Arial';
                            ctx.fillStyle = colors[item.type] || 'black';
                            ctx.fillText(item.type, x1, transformedY1 - 2);
                        }
                    count++
                    });
            }
                data.forEach(item => drawItem(item));
                console.log(count);
                
    </script>
</body>

</html>